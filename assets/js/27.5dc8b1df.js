(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{504:function(s,n,a){"use strict";a.r(n);var t=a(4),e=Object(t.a)({},(function(){var s=this,n=s.$createElement,a=s._self._c||n;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"之前一直缺乏对计算属性和侦听器的学习-特记录一篇"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#之前一直缺乏对计算属性和侦听器的学习-特记录一篇"}},[s._v("#")]),s._v(" 之前一直缺乏对计算属性和侦听器的学习,特记录一篇")]),s._v(" "),a("h2",{attrs:{id:"计算属性"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#计算属性"}},[s._v("#")]),s._v(" 计算属性")]),s._v(" "),a("h3",{attrs:{id:"计算属性是啥-作用是什么"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#计算属性是啥-作用是什么"}},[s._v("#")]),s._v(" 计算属性是啥?作用是什么?")]),s._v(" "),a("p",[s._v("一个计算属性可以说是针对一个值做计算的,或者针对一个值来做相应的过程.")]),s._v(" "),a("p",[s._v("我们来看一个例子:")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("computed: {\n  fullName: {\n    // getter\n    get: function () {\n      return this.firstName + ' ' + this.lastName\n    },\n    // setter\n    set: function (newValue) {\n      var names = newValue.split(' ')\n      this.firstName = names[0]\n      this.lastName = names[names.length - 1]\n    }\n  }\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br")])]),a("p",[a("strong",[s._v('在上例中,就是在对"fullName"进行计算,get就是计算获得他的值,相当于设置.set是当"fullName"变化的时候做出相应的行动,可以是对值的修改也可以是一个事件')])]),s._v(" "),a("h2",{attrs:{id:"侦听器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#侦听器"}},[s._v("#")]),s._v(" 侦听器")]),s._v(" "),a("h3",{attrs:{id:"侦听器又是个啥-是干啥的"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#侦听器又是个啥-是干啥的"}},[s._v("#")]),s._v(" 侦听器又是个啥?是干啥的?")]),s._v(" "),a("p",[s._v("我认为两者在初心上是没区别的,区别在于两者的使用场景上,在最后我会做细致阐述.")]),s._v(" "),a("p",[s._v("我们接着看一个例子:")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('\x3c!--HTML--\x3e\n<div>\n<p>\n      <label for="Anum">输入需要开方一个正数：</label>\n      <input id="a" type="number" v-model.number="Anum" />\n    </p>\n    <h2>{{this.kaiAnum}}</h2>\n</div>\n\n\x3c!--JS--\x3e\n<script>\nexport default {\n  name: "life",\n  data() {\n    return {\n      Anum: "",\n      kaiAnum: "我很笨，我需要算2S",\n      fun: null,\n      nN: 0,\n    };\n  },\n  created() {},\n  watch: {\n    Anum: {\n      handler(newAnum, oldAnum) {\n        // this.kaiAnum = newAnum\n        // this.kaiAnum = "";\n        if (this.Anum) {\n          this.kaiAnum = "计算中....请您等待两秒";\n        } \n        this.nN = newAnum;\n        // _.debounce(this.kaifang(), 500)\n        this.fangdou(this.kaifang, 2000);\n      },\n      deep: true,\n      immediate: false,\n    },\n  },\n  methods: {\n    kaifang() {\n      console.log("1231313", this.nN);\n      this.kaiAnum = "计算结果为="+Math.sqrt(this.nN)\n    },\n    fangdou(fn, time) {\n      if (this.fun !== null) {\n        clearTimeout(this.fun);\n      }\n      this.fun = setTimeout(fn, time);\n    },\n  },\n};\n<\/script>\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br"),a("span",{staticClass:"line-number"},[s._v("47")]),a("br"),a("span",{staticClass:"line-number"},[s._v("48")]),a("br"),a("span",{staticClass:"line-number"},[s._v("49")]),a("br"),a("span",{staticClass:"line-number"},[s._v("50")]),a("br"),a("span",{staticClass:"line-number"},[s._v("51")]),a("br"),a("span",{staticClass:"line-number"},[s._v("52")]),a("br")])]),a("p",[a("strong",[s._v("我们通过看这段代码的逻辑就可以看出也是对一个input输入的监视,如果改变了会做出什么样的操作,那么两者啥区别呢?为啥要用更加麻烦的watch呢?下面我给出答案")])]),s._v(" "),a("h2",{attrs:{id:"两者的区别和取舍"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#两者的区别和取舍"}},[s._v("#")]),s._v(" 两者的区别和取舍")]),s._v(" "),a("p",[s._v('假设我现在是百度的搜索引擎的需求,我现在提出一个"合理"的要求,我要求用户不需要点击"百度一下",当输入框输入东西的时候就要搜索.')]),s._v(" "),a("p",[s._v('这个时候身为程序员的你就会想,用change事件不就可以了么?,那用户假如输入"怎么成为首富",那输入框的每次变化都要请求一个AJAX么?,前端和后端都会承受巨大的压力,这个时候就需要我们的防抖!!!!')]),s._v(" "),a("p",[s._v("监视输入框也变成了监视这个改变操作(或者监视这个值).")]),s._v(" "),a("p",[s._v("那这个时候我们是使用计算属性还是侦听器呢?")]),s._v(" "),a("p",[s._v("我们知道计算属性是有依赖的,当依赖发生改变时才会重新求值,所以他叫属性,是有缓存性的.")]),s._v(" "),a("p",[s._v("但是侦听器会有一个动作,改变这个值就会有操作,是对一个属性的观察.")]),s._v(" "),a("p",[s._v("所以我认为:"),a("strong",[s._v("若是数据量小且计算不复杂,计算属性就可以.但是数据量大的时候,或者要进行异步操作的时候,那watch肯定是更好的选择")])])])}),[],!1,null,null,null);n.default=e.exports}}]);