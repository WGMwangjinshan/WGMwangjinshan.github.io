(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{486:function(s,a,t){s.exports=t.p+"assets/img/4.b8ca1015.png"},539:function(s,a,t){"use strict";t.r(a);var e=t(4),n=Object(e.a)({},(function(){var s=this,a=s.$createElement,e=s._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h2",{attrs:{id:"注意"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#注意"}},[s._v("#")]),s._v(" 注意")]),s._v(" "),e("p",[s._v("本文只讨论浏览器的EventLoop，并不包含NodeJs的EventLoop讲解，两者的事件循环方式完全不同，不要混为一谈。"),e("strong",[s._v("故全文所说的eventLoop都是特指浏览器的Event Loop")])]),s._v(" "),e("h2",{attrs:{id:"浏览器的eventloop"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#浏览器的eventloop"}},[s._v("#")]),s._v(" 浏览器的EventLoop")]),s._v(" "),e("p",[s._v("event loop是一种浏览器执行JS的一种方式，是一种执行模型。通过"),e("strong",[s._v("宏队列")]),s._v("(macrotask)和"),e("strong",[s._v("微队列")]),s._v("（microtask）来调用这个顺序。")]),s._v(" "),e("div",{staticClass:"custom-block danger"},[e("p",[s._v("注意这两货也可以叫做宏任务和微任务，而这两种任务都是在对异步任务做区分，不对同步的任务有限制。")])]),s._v(" "),e("h2",{attrs:{id:"理论知识"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#理论知识"}},[s._v("#")]),s._v(" 理论知识")]),s._v(" "),e("p",[s._v("那上面既然说两者都是对异步的操作进行分类的，那么怎么对异步操作进行分类呢，下面是就是“规定”：")]),s._v(" "),e("p",[e("strong",[s._v("宏队列，macrotask，也叫tasks。")]),s._v(" 一些异步任务的回调会依次进入macro task queue，等待后续被调用，这些异步任务包括：")]),s._v(" "),e("ul",[e("li",[s._v("setTimeout")]),s._v(" "),e("li",[s._v("setInterval")]),s._v(" "),e("li",[s._v("requestAnimationFrame (浏览器独有)")]),s._v(" "),e("li",[s._v("I/O")]),s._v(" "),e("li",[s._v("UI rendering (浏览器独有)")])]),s._v(" "),e("p",[e("strong",[s._v("微队列，microtask，也叫jobs。")]),s._v(" 另一些异步任务的回调会依次进入micro task queue，等待后续被调用，这些异步任务包括：")]),s._v(" "),e("ul",[e("li",[s._v("Promise")]),s._v(" "),e("li",[s._v("Object.observe")]),s._v(" "),e("li",[s._v("MutationObserver")])]),s._v(" "),e("div",{staticClass:"custom-block danger"},[e("p",[s._v("上面只列出了浏览器的异步操作，而NodeJS独有的没写出，例如：setImmediate 、process.nextTick等等。")])]),s._v(" "),e("h2",{attrs:{id:"正文"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#正文"}},[s._v("#")]),s._v(" 正文")]),s._v(" "),e("p",[e("strong",[s._v("上来咱就上图！！！！")])]),s._v(" "),e("p",[e("img",{attrs:{src:t(486),alt:"image"}})]),s._v(" "),e("p",[s._v("看不太明了是不？，等我说完了，你再后头看看就明了了。")]),s._v(" "),e("p",[s._v("在说之前我说几个概念，主线程和调用栈。Js是单线程的，所以只有一个主线程，所以有异步，异步中想调用谁的时候就会放到调用栈中，这样异步操作就会被执行。")]),s._v(" "),e("p",[s._v("我口述一下JavaScript代码在浏览器上的具体运作流程：")]),s._v(" "),e("ol",[e("li",[s._v("执行全局的js同步操作，注意！！！！是同步，是全局，不是EventLoop内的事件。")])]),s._v(" "),e("div",{staticClass:"custom-block danger"},[e("p",[s._v("注意，这个地方虽然是执行同步代码，但是不代表异步代码就掠过了，是读到异步操作会根据宏微队列对异步操作的回调函数进行分类，排列的顺序就是先遇见谁就先把谁放进去。")])]),s._v(" "),e("ol",{attrs:{start:"2"}},[e("li",[s._v("全局的js同步代码执行完成之后，主线程就是空的。")]),s._v(" "),e("li",[s._v("这个时候所有的异步操作已经分好类了，宏队列里和微队列里都有自己的回调函数。")]),s._v(" "),e("li",[s._v("从微队列里取出首位的回调任务，然后执行，这个时候微队列长度-1.")]),s._v(" "),e("li",[s._v("继续取微队列里的首个回调任务，执行。以此类推，直到把微队列里所有的任务都执行完。")])]),s._v(" "),e("div",{staticClass:"custom-block danger"},[e("p",[s._v("注意，微队列里的回调函数也可以会产生新的属于微队列的回调函数，那么就会加入到微队列尾部，也在这次执行种执行。")])]),s._v(" "),e("ol",{attrs:{start:"6"}},[e("li",[s._v("微任务执行完了之后，微任务栈为空，负责执行的调用栈也为空。")]),s._v(" "),e("li",[s._v("取出宏队列种的首位任务执行。执行完毕后执行栈为空")])]),s._v(" "),e("div",{staticClass:"custom-block danger"},[e("p",[s._v("注意，这个地方只取出一个任务，也只执行一个任务，与微队列不一样。")])]),s._v(" "),e("ol",{attrs:{start:"8"}},[e("li",[s._v("重复执行4到7的步骤。。。。。直到任务都完成。")])]),s._v(" "),e("h2",{attrs:{id:"练习"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#练习"}},[s._v("#")]),s._v(" 练习")]),s._v(" "),e("p",[e("strong",[s._v("上面的理论都说完了，咱们来实战练习一下，看看结果是什么呢？")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("    console.log(1);\n    setTimeout(() => {\n        console.log(2);\n        Promise.resolve().then(() => {\n            console.log(3)\n        });\n    });\n    new Promise((resolve, reject) => {\n        console.log(4)\n        resolve(5)\n    }).then((data) => {\n        console.log(data);\n    })\n    setTimeout(() => {\n        console.log(6);\n    })\n    console.log(7);\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br")])]),e("p",[e("strong",[s._v("相信你的本本上已经有了答案，那咱们先分析一下，最后给出答案。")])]),s._v(" "),e("h6",{attrs:{id:"第一步"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#第一步"}},[s._v("#")]),s._v(" 第一步")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("console.log(1)\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("table",[e("thead",[e("tr",[e("th",[s._v("调用栈")]),s._v(" "),e("th",[s._v("宏队列")]),s._v(" "),e("th",[s._v("微队列")])])]),s._v(" "),e("tbody",[e("tr",[e("td",[s._v("console")]),s._v(" "),e("td",[s._v("无")]),s._v(" "),e("td",[s._v("无")])]),s._v(" "),e("tr",[e("td",[s._v("无")]),s._v(" "),e("td",[s._v("无")]),s._v(" "),e("td",[s._v("无")])])])]),s._v(" "),e("blockquote",[e("p",[s._v("打印结果：")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("1\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h6",{attrs:{id:"第二步"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#第二步"}},[s._v("#")]),s._v(" 第二步")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("setTimeout(() => {\n   \x3c!--这个回调函数叫做callback1，setTimeout属于宏队列，所以放到宏队列中--\x3e\n  console.log(2);\n  Promise.resolve().then(() => {\n    console.log(3)\n  });\n});\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br")])]),e("table",[e("thead",[e("tr",[e("th",[s._v("调用栈")]),s._v(" "),e("th",[s._v("宏队列")]),s._v(" "),e("th",[s._v("微队列")])])]),s._v(" "),e("tbody",[e("tr",[e("td",[s._v("setTimeout")]),s._v(" "),e("td",[s._v("callback1")]),s._v(" "),e("td",[s._v("无")])]),s._v(" "),e("tr",[e("td",[s._v("无")]),s._v(" "),e("td",[s._v("无")]),s._v(" "),e("td",[s._v("无")])])])]),s._v(" "),e("blockquote",[e("p",[s._v("打印结果：")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("1\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h6",{attrs:{id:"第三步"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#第三步"}},[s._v("#")]),s._v(" 第三步")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("new Promise((resolve, reject) => {\n  \x3c!--注意，这里是同步执行的，咱也不知道为啥\n  他就同步了，可能和promise的设计原理有关系\n  ，这个地方我准备再细扣--\x3e\n  console.log(4)\n  resolve(5)\n}).then((data) => {\n   \x3c!--这个回调函数叫做callback2，promise属于微队列，所以放到微队列中--\x3e\n  console.log(data);\n})\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br")])]),e("table",[e("thead",[e("tr",[e("th",[s._v("调用栈")]),s._v(" "),e("th",[s._v("宏队列")]),s._v(" "),e("th",[s._v("微队列")])])]),s._v(" "),e("tbody",[e("tr",[e("td",[s._v("promise")]),s._v(" "),e("td",[s._v("callback1")]),s._v(" "),e("td",[s._v("callback2")])]),s._v(" "),e("tr",[e("td",[s._v("无")]),s._v(" "),e("td",[s._v("无")]),s._v(" "),e("td",[s._v("无")])])])]),s._v(" "),e("blockquote",[e("p",[s._v("打印结果：")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("1\n4\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("h6",{attrs:{id:"第四步"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#第四步"}},[s._v("#")]),s._v(" 第四步")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("setTimeout(() => {\n   \x3c!--这个回调函数叫做callback3，setTimeout属于宏队列，所以放到宏队列中--\x3e\n  console.log(6);\n})\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br")])]),e("table",[e("thead",[e("tr",[e("th",[s._v("调用栈")]),s._v(" "),e("th",[s._v("宏队列")]),s._v(" "),e("th",[s._v("微队列")])])]),s._v(" "),e("tbody",[e("tr",[e("td",[s._v("setTimeout")]),s._v(" "),e("td",[s._v("callback1")]),s._v(" "),e("td",[s._v("callback2")])]),s._v(" "),e("tr",[e("td",[s._v("无")]),s._v(" "),e("td",[s._v("callback3")]),s._v(" "),e("td",[s._v("无")])])])]),s._v(" "),e("blockquote",[e("p",[s._v("打印结果：")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("1\n4\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("h6",{attrs:{id:"第五步"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#第五步"}},[s._v("#")]),s._v(" 第五步")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("console.log(7)\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("table",[e("thead",[e("tr",[e("th",[s._v("调用栈")]),s._v(" "),e("th",[s._v("宏队列")]),s._v(" "),e("th",[s._v("微队列")])])]),s._v(" "),e("tbody",[e("tr",[e("td",[s._v("console")]),s._v(" "),e("td",[s._v("callback1")]),s._v(" "),e("td",[s._v("callback2")])]),s._v(" "),e("tr",[e("td",[s._v("无")]),s._v(" "),e("td",[s._v("callback3")]),s._v(" "),e("td",[s._v("无")])])])]),s._v(" "),e("blockquote",[e("p",[s._v("打印结果：")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("1\n4\n7\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("div",{staticClass:"custom-block tip"},[e("p",[s._v("这个地方所有的全局同步代码已经执行完，全局异步代码也分好类，现在就该进入EventLoop啦")])]),s._v(" "),e("h6",{attrs:{id:"第六步"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#第六步"}},[s._v("#")]),s._v(" 第六步")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("console.log(data)       \n\x3c!--这是callback2的代码，data是promise传过来值：5--\x3e\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("table",[e("thead",[e("tr",[e("th",[s._v("调用栈")]),s._v(" "),e("th",[s._v("宏队列")]),s._v(" "),e("th",[s._v("微队列")])])]),s._v(" "),e("tbody",[e("tr",[e("td",[s._v("callback2")]),s._v(" "),e("td",[s._v("callback1")]),s._v(" "),e("td",[s._v("无")])]),s._v(" "),e("tr",[e("td",[s._v("无")]),s._v(" "),e("td",[s._v("callback3")]),s._v(" "),e("td",[s._v("无")])])])]),s._v(" "),e("blockquote",[e("p",[s._v("打印结果：")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("1\n4\n7\n5\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br")])]),e("div",{staticClass:"custom-block tip"},[e("p",[s._v("微队列里的任务已经执行完了，开始调用宏队列内的任务。")])]),s._v(" "),e("h6",{attrs:{id:"第七步"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#第七步"}},[s._v("#")]),s._v(" 第七步")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("\x3c!--执行宏队列中的callback1，可是发现里面还有一个promise--\x3e\nconsole.log(2)\nPromise.resolve().then(() => {\n给你起名callback4，promise属于微队列，放到微队列中\n            console.log(3)\n        });\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br")])]),e("table",[e("thead",[e("tr",[e("th",[s._v("调用栈")]),s._v(" "),e("th",[s._v("宏队列")]),s._v(" "),e("th",[s._v("微队列")])])]),s._v(" "),e("tbody",[e("tr",[e("td",[s._v("callback1")]),s._v(" "),e("td",[s._v("callback3")]),s._v(" "),e("td",[s._v("callback4")])]),s._v(" "),e("tr",[e("td",[s._v("无")]),s._v(" "),e("td",[s._v("无")]),s._v(" "),e("td",[s._v("无")])])])]),s._v(" "),e("blockquote",[e("p",[s._v("打印结果：")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("1\n4\n7\n5\n2\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br")])]),e("div",{staticClass:"custom-block tip"},[e("p",[s._v("发现在执行宏任务的时候有了新的微任务，就会去继续执行微任务。")])]),s._v(" "),e("h6",{attrs:{id:"第八步"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#第八步"}},[s._v("#")]),s._v(" 第八步")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("\x3c!--执行微队列中的callback4--\x3e\nconsole.log(3)\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("table",[e("thead",[e("tr",[e("th",[s._v("调用栈")]),s._v(" "),e("th",[s._v("宏队列")]),s._v(" "),e("th",[s._v("微队列")])])]),s._v(" "),e("tbody",[e("tr",[e("td",[s._v("callback4")]),s._v(" "),e("td",[s._v("callback3")]),s._v(" "),e("td")]),s._v(" "),e("tr",[e("td",[s._v("无")]),s._v(" "),e("td",[s._v("无")]),s._v(" "),e("td",[s._v("无")])])])]),s._v(" "),e("blockquote",[e("p",[s._v("打印结果：")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("1\n4\n7\n5\n2\n3\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br")])]),e("h6",{attrs:{id:"第九步"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#第九步"}},[s._v("#")]),s._v(" 第九步")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("\x3c!--执行宏队列中的callback3--\x3e\nconsole.log(6)\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("table",[e("thead",[e("tr",[e("th",[s._v("调用栈")]),s._v(" "),e("th",[s._v("宏队列")]),s._v(" "),e("th",[s._v("微队列")])])]),s._v(" "),e("tbody",[e("tr",[e("td",[s._v("callback3")]),s._v(" "),e("td"),s._v(" "),e("td")]),s._v(" "),e("tr",[e("td",[s._v("无")]),s._v(" "),e("td",[s._v("无")]),s._v(" "),e("td",[s._v("无")])])])]),s._v(" "),e("blockquote",[e("p",[s._v("打印结果：")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("1\n4\n7\n5\n2\n3\n6\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br")])]),e("h6",{attrs:{id:"最后结果"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#最后结果"}},[s._v("#")]),s._v(" 最后结果")]),s._v(" "),e("p",[e("strong",[s._v("以上所有任务执行完，主线程、调用栈、宏队列和微队列都已经为空。")])]),s._v(" "),e("table",[e("thead",[e("tr",[e("th",[s._v("调用栈")]),s._v(" "),e("th",[s._v("宏队列")]),s._v(" "),e("th",[s._v("微队列")])])]),s._v(" "),e("tbody",[e("tr",[e("td",[s._v("无")]),s._v(" "),e("td",[s._v("无")]),s._v(" "),e("td",[s._v("无")])]),s._v(" "),e("tr",[e("td",[s._v("无")]),s._v(" "),e("td",[s._v("无")]),s._v(" "),e("td",[s._v("无")])])])]),s._v(" "),e("blockquote",[e("p",[s._v("打印最终结果：")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("1\n4\n7\n5\n2\n3\n6\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br")])]),e("hr"),s._v(" "),e("p",[e("strong",[s._v("如果上面的你都理解的话，我要来个狠货了哦：")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("console.log(1);\n\nsetTimeout(() => {\n  console.log(2);\n  Promise.resolve().then(() => {\n    console.log(3)\n  });\n});\n\nnew Promise((resolve, reject) => {\n  console.log(4)\n  resolve(5)\n}).then((data) => {\n  console.log(data);\n  \n  Promise.resolve().then(() => {\n    console.log(6)\n  }).then(() => {\n    console.log(7)\n    \n    setTimeout(() => {\n      console.log(8)\n    }, 0);\n  });\n})\n\nsetTimeout(() => {\n  console.log(9);\n})\n\nconsole.log(10);\n\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br"),e("span",{staticClass:"line-number"},[s._v("21")]),e("br"),e("span",{staticClass:"line-number"},[s._v("22")]),e("br"),e("span",{staticClass:"line-number"},[s._v("23")]),e("br"),e("span",{staticClass:"line-number"},[s._v("24")]),e("br"),e("span",{staticClass:"line-number"},[s._v("25")]),e("br"),e("span",{staticClass:"line-number"},[s._v("26")]),e("br"),e("span",{staticClass:"line-number"},[s._v("27")]),e("br"),e("span",{staticClass:"line-number"},[s._v("28")]),e("br"),e("span",{staticClass:"line-number"},[s._v("29")]),e("br"),e("span",{staticClass:"line-number"},[s._v("30")]),e("br"),e("span",{staticClass:"line-number"},[s._v("31")]),e("br"),e("span",{staticClass:"line-number"},[s._v("32")]),e("br")])]),e("p",[e("strong",[s._v("先好好想想，然后用自己的答案对照标准答案，好好想想！！！！！！！")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("// 正确答案\n1\n4\n10\n5\n6\n7\n2\n3\n9\n8\n//答对了恭喜你完全理解了浏览器的Event Loop，如果错了，就再看步骤去，如果还是理解不了，就留言，或者给我发邮箱1113080830@qq.com\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br")])]),e("p",[e("a",{attrs:{href:"https://segmentfault.com/a/1190000016278115",target:"_blank",rel:"noopener noreferrer"}},[s._v("本文灵感和事例都来自这，本文只是对其进行白话翻译(●ˇ∀ˇ●)"),e("OutboundLink")],1)])])}),[],!1,null,null,null);a.default=n.exports}}]);